<form id="leadForm" name="leadForm">
  <input type="text" name="name" placeholder="Full Name" required />
  <input type="tel" name="phone" placeholder="Mobile Number" required />
  <select name="problem" required>
    <option value="">Select Problem</option>
    <option value="Roof Waterproofing">Roof Waterproofing</option>
    <option value="Tank Waterproofing">Tank Waterproofing</option>
    <option value="Basement Waterproofing">Basement Waterproofing</option>
    <option value="PU Injection Grouting">PU Injection Grouting</option>
    <option value="Epoxy Flooring">Epoxy Flooring</option>
    <option value="Crack Filling">Crack Filling</option>
    <option value="Plumbing Work">Plumbing Work</option>
  </select>
  <textarea name="message" placeholder="Describe your issue"></textarea>
  <button type="submit">Submit</button>
</form>

<p id="statusMsg"></p>

<script>
  const scriptURL = "https://script.google.com/macros/s/AKfycbxAI6Q0Qczy24Ieuvyi_RIQI1hXSauoVmuqbuE3Dvc-CBLZPzc6fUFTImsOwzBB8blb/exec";
  const form = document.forms['leadForm'];
  const status = document.getElementById('statusMsg');

  form.addEventListener('submit', e => {
    e.preventDefault();
    const data = {
      name: form.name.value,
      phone: form.phone.value,
      problem: form.problem.value,
      message: form.message.value
    };

    fetch(scriptURL, {
      method: 'POST',
      mode: 'no-cors',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    })
    .then(() => status.innerHTML = "✅ Thank you! We'll get back to you soon.")
    .catch(error => status.innerHTML = "❌ Something went wrong. Please try again.");
    
    form.reset();
  });
</script>
